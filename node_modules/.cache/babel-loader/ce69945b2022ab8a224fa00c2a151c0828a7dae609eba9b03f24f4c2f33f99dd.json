{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useStockAnalysis/index.js\nimport { useState } from 'react';\nimport { generateAnalysis } from '../../services/ollamaService';\nimport { parseResponse, generatePrompt } from '../../utils/helpers';\nexport const useStockAnalysis = () => {\n  _s();\n  const [analysis, setAnalysis] = useState({\n    technical: null,\n    fundamental: null,\n    sentiment: null\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // const performAnalysis = async (type, stockSymbol) => {\n  //     if (!stockSymbol) {\n  //         setError('Please enter a stock symbol');\n  //         return;\n  //     }\n\n  //     setLoading(true);\n  //     setError(null);\n\n  //     try {\n  //         const prompt = generatePrompt(type, stockSymbol);\n  //         const data = await generateAnalysis(prompt);\n  //         const analysisResult = parseResponse(data.response);\n\n  //         setAnalysis(prev => ({\n  //             ...prev,\n  //             [type]: analysisResult\n  //         }));\n  //     } catch (error) {\n  //         console.error('Analysis error:', error);\n  //         setError('Failed to perform analysis. Please try again.');\n  //     } finally {\n  //         setLoading(false);\n  //     }\n  // };\n  const performAnalysis = async type => {\n    setLoading(true);\n    // Simulate API call to LLM\n    setTimeout(() => {\n      const mockResponses = {\n        technical: {\n          summary: \"Based on technical indicators, the stock shows a bullish trend with strong momentum. The 50-day moving average crossed above the 200-day moving average, forming a golden cross pattern.\",\n          recommendation: \"Consider buying with a stop loss at $145\",\n          indicators: {\n            rsi: 65,\n            macd: \"Positive\",\n            movingAverages: \"Bullish\"\n          },\n          priceHistory: [{\n            \"date\": \"2023-02-20\",\n            \"price\": 180.21,\n            \"volume\": 1234567\n          }, {\n            \"date\": \"2023-03-01\",\n            \"price\": 182.15,\n            \"volume\": 987654\n          }, {\n            \"date\": \"2023-03-15\",\n            \"price\": 184.50,\n            \"volume\": 456789\n          }]\n        },\n        fundamental: {\n          summary: \"The company shows strong fundamentals with healthy profit margins and consistent revenue growth.\",\n          metrics: {\n            peRatio: 22.5,\n            eps: 3.45,\n            debtToEquity: 0.8\n          },\n          recommendation: \"Strong long-term investment potential\"\n        },\n        sentiment: {\n          summary: \"Overall positive market sentiment with increasing institutional interest.\",\n          metrics: {\n            newsScore: 7.5,\n            socialMediaBuzz: \"Positive\",\n            analystRatings: \"Buy\"\n          }\n        }\n      };\n      setAnalysis(prev => ({\n        ...prev,\n        [type]: mockResponses[type]\n      }));\n      setLoading(false);\n    }, 1500);\n  };\n  return {\n    analysis,\n    loading,\n    error,\n    performAnalysis\n  };\n};\n_s(useStockAnalysis, \"hVN85ievMaeYJFB1t36/qiCg818=\");","map":{"version":3,"names":["useState","generateAnalysis","parseResponse","generatePrompt","useStockAnalysis","_s","analysis","setAnalysis","technical","fundamental","sentiment","loading","setLoading","error","setError","performAnalysis","type","setTimeout","mockResponses","summary","recommendation","indicators","rsi","macd","movingAverages","priceHistory","metrics","peRatio","eps","debtToEquity","newsScore","socialMediaBuzz","analystRatings","prev"],"sources":["/home/hsing/pro/stock-analysis-app/src/hooks/useStockAnalysis/index.js"],"sourcesContent":["// src/hooks/useStockAnalysis/index.js\nimport { useState } from 'react';\nimport { generateAnalysis } from '../../services/ollamaService';\nimport { parseResponse, generatePrompt } from '../../utils/helpers';\n\nexport const useStockAnalysis = () => {\n    const [analysis, setAnalysis] = useState({\n        technical: null,\n        fundamental: null,\n        sentiment: null\n    });\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    // const performAnalysis = async (type, stockSymbol) => {\n    //     if (!stockSymbol) {\n    //         setError('Please enter a stock symbol');\n    //         return;\n    //     }\n\n    //     setLoading(true);\n    //     setError(null);\n\n    //     try {\n    //         const prompt = generatePrompt(type, stockSymbol);\n    //         const data = await generateAnalysis(prompt);\n    //         const analysisResult = parseResponse(data.response);\n\n    //         setAnalysis(prev => ({\n    //             ...prev,\n    //             [type]: analysisResult\n    //         }));\n    //     } catch (error) {\n    //         console.error('Analysis error:', error);\n    //         setError('Failed to perform analysis. Please try again.');\n    //     } finally {\n    //         setLoading(false);\n    //     }\n    // };\n    const performAnalysis = async (type) => {\n        setLoading(true);\n        // Simulate API call to LLM\n        setTimeout(() => {\n            const mockResponses = {\n                technical: {\n                    summary: \"Based on technical indicators, the stock shows a bullish trend with strong momentum. The 50-day moving average crossed above the 200-day moving average, forming a golden cross pattern.\",\n                    recommendation: \"Consider buying with a stop loss at $145\",\n                    indicators: {\n                        rsi: 65,\n                        macd: \"Positive\",\n                        movingAverages: \"Bullish\"\n                    },\n                    priceHistory: [\n                        { \"date\": \"2023-02-20\", \"price\": 180.21, \"volume\": 1234567 },\n                        { \"date\": \"2023-03-01\", \"price\": 182.15, \"volume\": 987654 },\n                        { \"date\": \"2023-03-15\", \"price\": 184.50, \"volume\": 456789 }\n                    ],\n                },\n                fundamental: {\n                    summary: \"The company shows strong fundamentals with healthy profit margins and consistent revenue growth.\",\n                    metrics: {\n                        peRatio: 22.5,\n                        eps: 3.45,\n                        debtToEquity: 0.8\n                    },\n                    recommendation: \"Strong long-term investment potential\"\n                },\n                sentiment: {\n                    summary: \"Overall positive market sentiment with increasing institutional interest.\",\n                    metrics: {\n                        newsScore: 7.5,\n                        socialMediaBuzz: \"Positive\",\n                        analystRatings: \"Buy\"\n                    }\n                }\n            };\n\n            setAnalysis(prev => ({\n                ...prev,\n                [type]: mockResponses[type]\n            }));\n            setLoading(false);\n        }, 1500);\n    };\n    return { analysis, loading, error, performAnalysis };\n};"],"mappings":";AAAA;AACA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,gBAAgB,QAAQ,8BAA8B;AAC/D,SAASC,aAAa,EAAEC,cAAc,QAAQ,qBAAqB;AAEnE,OAAO,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC;IACrCQ,SAAS,EAAE,IAAI;IACfC,WAAW,EAAE,IAAI;IACjBC,SAAS,EAAE;EACf,CAAC,CAAC;EACF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;;EAExC;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAMe,eAAe,GAAG,MAAOC,IAAI,IAAK;IACpCJ,UAAU,CAAC,IAAI,CAAC;IAChB;IACAK,UAAU,CAAC,MAAM;MACb,MAAMC,aAAa,GAAG;QAClBV,SAAS,EAAE;UACPW,OAAO,EAAE,0LAA0L;UACnMC,cAAc,EAAE,0CAA0C;UAC1DC,UAAU,EAAE;YACRC,GAAG,EAAE,EAAE;YACPC,IAAI,EAAE,UAAU;YAChBC,cAAc,EAAE;UACpB,CAAC;UACDC,YAAY,EAAE,CACV;YAAE,MAAM,EAAE,YAAY;YAAE,OAAO,EAAE,MAAM;YAAE,QAAQ,EAAE;UAAQ,CAAC,EAC5D;YAAE,MAAM,EAAE,YAAY;YAAE,OAAO,EAAE,MAAM;YAAE,QAAQ,EAAE;UAAO,CAAC,EAC3D;YAAE,MAAM,EAAE,YAAY;YAAE,OAAO,EAAE,MAAM;YAAE,QAAQ,EAAE;UAAO,CAAC;QAEnE,CAAC;QACDhB,WAAW,EAAE;UACTU,OAAO,EAAE,kGAAkG;UAC3GO,OAAO,EAAE;YACLC,OAAO,EAAE,IAAI;YACbC,GAAG,EAAE,IAAI;YACTC,YAAY,EAAE;UAClB,CAAC;UACDT,cAAc,EAAE;QACpB,CAAC;QACDV,SAAS,EAAE;UACPS,OAAO,EAAE,2EAA2E;UACpFO,OAAO,EAAE;YACLI,SAAS,EAAE,GAAG;YACdC,eAAe,EAAE,UAAU;YAC3BC,cAAc,EAAE;UACpB;QACJ;MACJ,CAAC;MAEDzB,WAAW,CAAC0B,IAAI,KAAK;QACjB,GAAGA,IAAI;QACP,CAACjB,IAAI,GAAGE,aAAa,CAACF,IAAI;MAC9B,CAAC,CAAC,CAAC;MACHJ,UAAU,CAAC,KAAK,CAAC;IACrB,CAAC,EAAE,IAAI,CAAC;EACZ,CAAC;EACD,OAAO;IAAEN,QAAQ;IAAEK,OAAO;IAAEE,KAAK;IAAEE;EAAgB,CAAC;AACxD,CAAC;AAACV,EAAA,CAhFWD,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}